import{_ as h,o as r,c,l as y,e as g,w,b as e,n as _,t as d,T as j,m as O,r as C,x as F,F as A,i as E,y as U,j as V,k as $,v as D,z as L,p as x,g as M,q as N,d as P,s as S,A as B}from"./index-1c868b0f.js";import{L as I}from"./Layout-25ceb659.js";const q={key:0,class:"confirm-container"},z={class:"confirm-header"},G={class:"confirm-title"},H={class:"confirm-body"},Y={class:"confirm-message"},J={class:"confirm-actions"},K={__name:"ConfirmDialog",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},confirmText:{type:String,default:"Confirm"},cancelText:{type:String,default:"Cancel"},type:{type:String,default:"default"}},emits:["close","confirm"],setup(s){return(a,l)=>(r(),c("div",null,[s.isOpen?(r(),c("div",{key:0,class:"confirm-overlay",onClick:l[0]||(l[0]=n=>a.$emit("close"))})):y("",!0),g(j,{name:"confirm"},{default:w(()=>[s.isOpen?(r(),c("div",q,[e("div",{class:_(["confirm-dialog",s.type])},[e("div",z,[e("h3",G,d(s.title),1)]),e("div",H,[e("p",Y,d(s.message),1)]),e("div",J,[e("button",{onClick:l[1]||(l[1]=n=>a.$emit("close")),class:"confirm-btn cancel-btn"},d(s.cancelText),1),e("button",{onClick:l[2]||(l[2]=n=>a.$emit("confirm")),class:_(["confirm-btn",`${s.type}-btn`])},d(s.confirmText),3)])],2)])):y("",!0)]),_:1})]))}},Q=h(K,[["__scopeId","data-v-36a85d2a"]]);const R={class:"ticket-card"},W={class:"ticket-header"},X={class:"ticket-title-section"},Z={class:"ticket-title"},ee={class:"ticket-meta"},te={class:"ticket-id"},se={class:"ticket-date"},ie={class:"ticket-actions"},oe={key:0,class:"ticket-description"},ne={class:"ticket-tags"},le={class:"ticket-footer"},ae={class:"assignee"},re={class:"assignee-name"},ce={class:"ticket-updated"},de={__name:"TicketCard",props:{ticket:{type:Object,required:!0},index:{type:Number,default:0}},emits:["edit","delete"],setup(s,{emit:a}){const l=s,n=a,u=O(),i=C(!1),m=o=>{switch(o){case"open":return"#2ecc71";case"in_progress":return"#f39c12";case"closed":return"#95a5a6";default:return"#bdc3c7"}},p=o=>{switch(o){case"high":return"#e74c3c";case"medium":return"#f39c12";case"low":return"#27ae60";default:return"#95a5a6"}},b=o=>{const t=m(o);return{backgroundColor:`${t}20`,color:t,border:`1px solid ${t}40`}},T=o=>{const t=p(o);return{backgroundColor:`${t}20`,color:t,border:`1px solid ${t}40`}},v=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),f=async()=>{try{await u.deleteTicket(l.ticket.id),n("delete",l.ticket.id),i.value=!1}catch{}};return(o,t)=>(r(),c(A,null,[e("div",R,[e("div",W,[e("div",X,[e("h3",Z,d(s.ticket.title),1),e("div",ee,[e("span",te,"#"+d(s.ticket.id.slice(-6)),1),e("span",se,d(v(s.ticket.createdAt)),1)])]),e("div",ie,[e("button",{onClick:t[0]||(t[0]=k=>o.$emit("edit",s.ticket)),class:"action-btn edit-btn",title:"Edit ticket"}," ✏️ "),e("button",{onClick:t[1]||(t[1]=k=>i.value=!0),class:"action-btn delete-btn",title:"Delete ticket"}," 🗑️ ")])]),s.ticket.description?(r(),c("p",oe,d(s.ticket.description.length>120?`${s.ticket.description.substring(0,120)}...`:s.ticket.description),1)):y("",!0),e("div",ne,[e("span",{class:"status-tag",style:F(b(s.ticket.status))},d(s.ticket.status.replace("_"," ")),5),e("span",{class:"priority-tag",style:F(T(s.ticket.priority))},d(s.ticket.priority)+" priority ",5)]),e("div",le,[e("div",ae,[t[3]||(t[3]=e("span",{class:"assignee-label"},"Assigned to:",-1)),e("span",re,d(s.ticket.assignee),1)]),e("div",ce," Updated "+d(v(s.ticket.updatedAt)),1)]),e("div",{class:"status-indicator",style:F({backgroundColor:m(s.ticket.status)})},null,4)]),g(Q,{isOpen:i.value,onClose:t[2]||(t[2]=k=>i.value=!1),onConfirm:f,title:"Delete Ticket",message:`Are you sure you want to delete '${s.ticket.title}'? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger"},null,8,["isOpen","message"])],64))}},ue=h(de,[["__scopeId","data-v-f8238244"]]);const me={key:0,class:"modal-container"},ke={class:"ticket-form-modal"},pe={class:"form-header"},fe={class:"form-group"},ye={key:0,class:"error-message"},ve={class:"form-group"},ge={class:"form-row"},_e={class:"form-group"},he={key:0,class:"error-message"},be={class:"form-group"},Te={class:"form-group"},$e={key:0,class:"form-error"},Ce={class:"form-actions"},Se=["disabled"],we=["disabled"],xe={key:0,class:"loading-spinner"},Oe={key:1},Fe={__name:"TicketForm",props:{ticket:{type:Object,default:null},isOpen:{type:Boolean,default:!1}},emits:["close","saved"],setup(s,{emit:a}){const l=s,n=a,u=O(),i=E({title:"",description:"",status:"open",priority:"medium",assignee:""}),m=E({}),p=C(!1);U(()=>l.isOpen,o=>{o&&(b(),l.ticket&&Object.assign(i,{title:l.ticket.title,description:l.ticket.description,status:l.ticket.status,priority:l.ticket.priority,assignee:l.ticket.assignee}))});const b=()=>{Object.assign(i,{title:"",description:"",status:"open",priority:"medium",assignee:""}),Object.keys(m).forEach(o=>delete m[o])},T=()=>{const o={};return i.title.trim()?i.title.length<3&&(o.title="Title must be at least 3 characters"):o.title="Title is required",i.status||(o.status="Status is required"),Object.assign(m,o),Object.keys(o).length===0},v=()=>{n("close")},f=async()=>{if(T()){p.value=!0;try{l.ticket?await u.updateTicket(l.ticket.id,i):await u.createTicket(i),n("saved")}catch{}finally{p.value=!1}}};return(o,t)=>(r(),c("div",null,[s.isOpen?(r(),c("div",{key:0,class:"modal-overlay",onClick:v})):y("",!0),g(j,{name:"modal"},{default:w(()=>[s.isOpen?(r(),c("div",me,[e("div",ke,[e("div",pe,[e("h2",null,d(s.ticket?"Edit Ticket":"Create New Ticket"),1),e("button",{onClick:v,class:"close-btn"}," × ")]),e("form",{onSubmit:V(f,["prevent"]),class:"ticket-form"},[e("div",fe,[t[5]||(t[5]=e("label",{for:"title",class:"form-label"},"Title *",-1)),$(e("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=k=>i.title=k),class:_(["form-input",{error:m.title}]),placeholder:"Enter ticket title"},null,2),[[D,i.title]]),m.title?(r(),c("span",ye,d(m.title),1)):y("",!0)]),e("div",ve,[t[6]||(t[6]=e("label",{for:"description",class:"form-label"},"Description",-1)),$(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=k=>i.description=k),class:"form-textarea",placeholder:"Describe the issue or request...",rows:"4"},null,512),[[D,i.description]])]),e("div",ge,[e("div",_e,[t[8]||(t[8]=e("label",{for:"status",class:"form-label"},"Status *",-1)),$(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=k=>i.status=k),class:_(["form-select",{error:m.status}])},[...t[7]||(t[7]=[e("option",{value:"open"},"Open",-1),e("option",{value:"in_progress"},"In Progress",-1),e("option",{value:"closed"},"Closed",-1)])],2),[[L,i.status]]),m.status?(r(),c("span",he,d(m.status),1)):y("",!0)]),e("div",be,[t[10]||(t[10]=e("label",{for:"priority",class:"form-label"},"Priority",-1)),$(e("select",{id:"priority","onUpdate:modelValue":t[3]||(t[3]=k=>i.priority=k),class:"form-select"},[...t[9]||(t[9]=[e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)])],512),[[L,i.priority]])])]),e("div",Te,[t[11]||(t[11]=e("label",{for:"assignee",class:"form-label"},"Assignee",-1)),$(e("input",{type:"text",id:"assignee","onUpdate:modelValue":t[4]||(t[4]=k=>i.assignee=k),class:"form-input",placeholder:"Assign to team member"},null,512),[[D,i.assignee]])]),m.submit?(r(),c("div",$e,d(m.submit),1)):y("",!0),e("div",Ce,[e("button",{type:"button",onClick:v,class:"btn btn-secondary",disabled:p.value}," Cancel ",8,Se),e("button",{type:"submit",class:_(["btn btn-primary",{loading:p.value}]),disabled:p.value},[p.value?(r(),c("div",xe)):(r(),c("span",Oe,d(s.ticket?"Update Ticket":"Create Ticket"),1))],10,we)])],32)])])):y("",!0)]),_:1})]))}},De=h(Fe,[["__scopeId","data-v-e8831be3"]]);const Ne={class:"tickets-filters"},Ae={class:"search-container"},Ee={class:"search-input-wrapper"},Le=["value"],je={class:"filter-tabs"},Me=["onClick"],Ue={class:"filter-label"},Ve={class:"filter-count"},Pe={__name:"TicketFilters",props:{searchTerm:{type:String,default:""},currentFilter:{type:String,default:"all"}},emits:["update:searchTerm","filter-change"],setup(s){const a=O(),l=x(()=>[{key:"all",label:"All Tickets",count:a.allTickets.length},{key:"open",label:"Open",count:a.allTickets.filter(n=>n.status==="open").length},{key:"in_progress",label:"In Progress",count:a.allTickets.filter(n=>n.status==="in_progress").length},{key:"closed",label:"Closed",count:a.allTickets.filter(n=>n.status==="closed").length},{key:"high",label:"High Priority",count:a.allTickets.filter(n=>n.priority==="high").length},{key:"medium",label:"Medium Priority",count:a.allTickets.filter(n=>n.priority==="medium").length},{key:"low",label:"Low Priority",count:a.allTickets.filter(n=>n.priority==="low").length}]);return(n,u)=>(r(),c("div",Ne,[e("div",Ae,[e("div",Ee,[u[2]||(u[2]=e("span",{class:"search-icon"},"🔍",-1)),e("input",{type:"text",placeholder:"Search tickets...",value:s.searchTerm,onInput:u[0]||(u[0]=i=>n.$emit("update:searchTerm",i.target.value)),class:"search-input"},null,40,Le),s.searchTerm?(r(),c("button",{key:0,onClick:u[1]||(u[1]=i=>n.$emit("update:searchTerm","")),class:"clear-search"}," × ")):y("",!0)])]),e("div",je,[(r(!0),c(A,null,M(l.value,i=>(r(),c("button",{key:i.key,onClick:m=>n.$emit("filter-change",i.key),class:_(["filter-tab",{active:s.currentFilter===i.key}])},[e("span",Ue,d(i.label),1),e("span",Ve,d(i.count),1)],10,Me))),128))])]))}},Be=h(Pe,[["__scopeId","data-v-affd12bf"]]);const Ie={class:"empty-state"},qe={class:"empty-title"},ze={class:"empty-subtitle"},Ge={__name:"EmptyState",props:{filter:{type:String,default:"all"},searchTerm:{type:String,default:""}},emits:["create-ticket"],setup(s){const a=s,l=x(()=>{if(a.searchTerm)return`No tickets found for "${a.searchTerm}"`;switch(a.filter){case"open":return"No open tickets";case"in_progress":return"No tickets in progress";case"closed":return"No closed tickets";case"high":return"No high priority tickets";case"medium":return"No medium priority tickets";case"low":return"No low priority tickets";default:return"No tickets created yet"}}),n=x(()=>a.searchTerm?"Try adjusting your search terms or clear the search":a.filter==="all"?"Get started by creating your first ticket":"All tickets are filtered out or none match the current filter");return(u,i)=>(r(),c("div",Ie,[i[1]||(i[1]=e("div",{class:"empty-icon"},"🎫",-1)),e("h3",qe,d(l.value),1),e("p",ze,d(n.value),1),s.filter==="all"?(r(),c("button",{key:0,onClick:i[0]||(i[0]=m=>u.$emit("create-ticket")),class:"empty-action-btn"}," Create Your First Ticket ")):y("",!0)]))}},He=h(Ge,[["__scopeId","data-v-0811259f"]]);const Ye={class:"tickets-page"},Je={class:"tickets-content"},Ke={key:0,class:"tickets-loading"},Qe={key:2,class:"tickets-grid"},Re={__name:"Tickets",setup(s){const a=O(),l=C(""),n=C(!1),u=C(null),i=x(()=>a.tickets.filter(f=>f.title.toLowerCase().includes(l.value.toLowerCase())||f.description.toLowerCase().includes(l.value.toLowerCase()))),m=()=>{u.value=null,n.value=!0},p=f=>{u.value=f,n.value=!0},b=f=>{},T=()=>{n.value=!1,u.value=null},v=()=>{n.value=!1,u.value=null};return(f,o)=>(r(),N(I,null,{default:w(()=>[e("div",Ye,[e("div",{class:"tickets-header"},[o[3]||(o[3]=e("div",{class:"header-content"},[e("h1",{class:"tickets-title"},"Ticket Management"),e("p",{class:"tickets-subtitle"}," Manage all your support tickets in one place ")],-1)),e("button",{onClick:m,class:"create-ticket-btn"},[...o[2]||(o[2]=[e("span",{class:"btn-icon"},"➕",-1),P(" Create Ticket ",-1)])])]),g(Be,{searchTerm:l.value,"onUpdate:searchTerm":o[0]||(o[0]=t=>l.value=t),currentFilter:S(a).filter,onFilterChange:o[1]||(o[1]=t=>S(a).setFilter(t))},null,8,["searchTerm","currentFilter"]),e("div",Je,[S(a).loading?(r(),c("div",Ke,[...o[4]||(o[4]=[e("div",{class:"loading-spinner large"},null,-1),e("p",null,"Loading tickets...",-1)])])):i.value.length===0?(r(),N(He,{key:1,filter:S(a).filter,searchTerm:l.value,onCreateTicket:m},null,8,["filter","searchTerm"])):(r(),c("div",Qe,[g(B,{name:"ticket-list"},{default:w(()=>[(r(!0),c(A,null,M(i.value,(t,k)=>(r(),N(ue,{key:t.id,ticket:t,index:k,onEdit:p,onDelete:b},null,8,["ticket","index"]))),128))]),_:1})]))]),g(De,{ticket:u.value,isOpen:n.value,onClose:T,onSaved:v},null,8,["ticket","isOpen"])])]),_:1}))}},Ze=h(Re,[["__scopeId","data-v-741c0b94"]]);export{Ze as default};
